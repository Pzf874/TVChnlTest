# TVChnlTest
TV频道源检查软件(TVChnlTest.exe)这个小工具, 可以将你收集的直播源数据导入，并对其进行有效性检查，经整理后，可以导出为TXT格式或M3U8格式的文件。

功能简介：
TV频道源检查软件(TVChnlTest.exe)这个小工具（请忽视其界面的简陋），工程用Delphi2007编译
可以将你从各种渠道获得的直播源数据导入到自己的数据库中，并对其进行有效性检查，获得每个源的可用性。经整理后，可以导出为TXT格式或M3U8格式的文件，文件可以是ASCII或UTF-8或UNICODE编码。
本工具使用了迅雷Aplayer播放ActiveX控件，但没有带解码库，在此状态下，可以检查出连接可用性，但无详细信息(基本相当于老外的IPTV Checker软件)。如需要完整的解码，请自行从迅雷Aplayer官网http://aplayer.open.xunlei.com下载完整解码库并放入本工具目录内(子目录codecs中)。

具体见工程内的《TVChnlTest文档.doc》
==============================================================================================
更新履历：
1.0.1：
1.更改过滤条件从设置Filter改为重新组织SQL读取，使得列表的滚动条正常（Filted:=True时，Grid滚动条只有上中下三档）
2.导入数据画面，双击工具栏区域，清空内容。省的老是按CTRL+A再回车来清除。

1.0.2：
1.导入画面：添加接受格式说明，说明区双击：清除频道信息区。
2.导入M3U格式时识别tvg-name关键字的EPG，导入频道源时，识别第二个”,”号后为EPG信息，EPG存入”备注”列。
3.导出TXT格式时，EPG用”,”号跟在源地址后，导出M3U格式时EPG信息存于tvg-name后。
4.对于带”@位置名”的频道源，播放或测试时，去掉”@位置名”信息后传送给播放器。
5.如果指定的”保存于”文件名框内以'#'开头，则分割多文件输出时，分类文件名加前缀，前缀以900#起，按照分类列表的序号增加，如：900#央视.txt，901#卫视.txt，902#地方台.txt...。因为有些直播软件（发烧友TV等）在其数据目录内放入这标记数字后的文件，就会按照数字序号显示分组，这样符合输出时的分类顺序。

1.0.3：
1.调用Aplayer.dll检查的方法修改，期望减少CPU/GPU占用，减少意外退出，然而没啥用，还是有几率无故退出（我笔记本有，台式机没有），只能过滤“结果=空(未知)”的，继续检查吧。
2.界面微调。

1.1.0：
1.将播放独立为一个Aplayer.exe程序，检查时外调其获得结果，彻底解决播放器内存越界引起本软件闪退问题。
2.现在甚至可以50个进程一起检查都没问题了（当然网速要高，比如每个链接2.0MB/s的话，50个链接一起检查就是100MB差不多吃满千兆光纤。还不算CPU/GPU的解码速度是否能跟上）
3.这个小工具没有致命问题不再更新了。
